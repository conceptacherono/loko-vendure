import { NgModule } from '@angular/core';
import { RouterModule } from '@angular/router';
import { SharedModule } from '@vendure/admin-ui/core';
import { DashboardWidgetComponent } from './components/dashboard-widget/dashboard-widget.component';
import { DashboardComponent } from './components/dashboard/dashboard.component';
import { dashboardRoutes } from './dashboard.routes';
import { DEFAULT_DASHBOARD_WIDGET_LAYOUT, DEFAULT_WIDGETS } from './default-widgets';
import { OrderChartWidgetComponent } from './widgets/order-chart-widget/order-chart-widget.component';
import * as i0 from "@angular/core";
import * as i1 from "@vendure/admin-ui/core";
import * as i2 from "@angular/router";
export class DashboardModule {
    constructor(dashboardWidgetService) {
        Object.entries(DEFAULT_WIDGETS).map(([id, config]) => {
            if (!dashboardWidgetService.getWidgetById(id)) {
                dashboardWidgetService.registerWidget(id, config);
            }
        });
        if (dashboardWidgetService.getDefaultLayout().length === 0) {
            dashboardWidgetService.setDefaultLayout(DEFAULT_DASHBOARD_WIDGET_LAYOUT);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.2.4", ngImport: i0, type: DashboardModule, deps: [{ token: i1.DashboardWidgetService }], target: i0.ɵɵFactoryTarget.NgModule }); }
    static { this.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "14.0.0", version: "17.2.4", ngImport: i0, type: DashboardModule, declarations: [DashboardComponent, DashboardWidgetComponent, OrderChartWidgetComponent], imports: [SharedModule, i2.RouterModule] }); }
    static { this.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "17.2.4", ngImport: i0, type: DashboardModule, imports: [SharedModule, RouterModule.forChild(dashboardRoutes)] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.2.4", ngImport: i0, type: DashboardModule, decorators: [{
            type: NgModule,
            args: [{
                    imports: [SharedModule, RouterModule.forChild(dashboardRoutes)],
                    declarations: [DashboardComponent, DashboardWidgetComponent, OrderChartWidgetComponent],
                }]
        }], ctorParameters: () => [{ type: i1.DashboardWidgetService }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGFzaGJvYXJkLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvZGFzaGJvYXJkL3NyYy9kYXNoYm9hcmQubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBMEIsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFOUUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sMERBQTBELENBQUM7QUFDcEcsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNENBQTRDLENBQUM7QUFDaEYsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3JELE9BQU8sRUFBRSwrQkFBK0IsRUFBRSxlQUFlLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNyRixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSwyREFBMkQsQ0FBQzs7OztBQU10RyxNQUFNLE9BQU8sZUFBZTtJQUN4QixZQUFZLHNCQUE4QztRQUN0RCxNQUFNLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUU7WUFDakQsSUFBSSxDQUFDLHNCQUFzQixDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO2dCQUM1QyxzQkFBc0IsQ0FBQyxjQUFjLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ3RELENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksc0JBQXNCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDekQsc0JBQXNCLENBQUMsZ0JBQWdCLENBQUMsK0JBQStCLENBQUMsQ0FBQztRQUM3RSxDQUFDO0lBQ0wsQ0FBQzs4R0FWUSxlQUFlOytHQUFmLGVBQWUsaUJBRlQsa0JBQWtCLEVBQUUsd0JBQXdCLEVBQUUseUJBQXlCLGFBRDVFLFlBQVk7K0dBR2IsZUFBZSxZQUhkLFlBQVksRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQzs7MkZBR3JELGVBQWU7a0JBSjNCLFFBQVE7bUJBQUM7b0JBQ04sT0FBTyxFQUFFLENBQUMsWUFBWSxFQUFFLFlBQVksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7b0JBQy9ELFlBQVksRUFBRSxDQUFDLGtCQUFrQixFQUFFLHdCQUF3QixFQUFFLHlCQUF5QixDQUFDO2lCQUMxRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFJvdXRlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XHJcbmltcG9ydCB7IERhc2hib2FyZFdpZGdldFNlcnZpY2UsIFNoYXJlZE1vZHVsZSB9IGZyb20gJ0B2ZW5kdXJlL2FkbWluLXVpL2NvcmUnO1xyXG5cclxuaW1wb3J0IHsgRGFzaGJvYXJkV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2Rhc2hib2FyZC13aWRnZXQvZGFzaGJvYXJkLXdpZGdldC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBEYXNoYm9hcmRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZGFzaGJvYXJkL2Rhc2hib2FyZC5jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBkYXNoYm9hcmRSb3V0ZXMgfSBmcm9tICcuL2Rhc2hib2FyZC5yb3V0ZXMnO1xyXG5pbXBvcnQgeyBERUZBVUxUX0RBU0hCT0FSRF9XSURHRVRfTEFZT1VULCBERUZBVUxUX1dJREdFVFMgfSBmcm9tICcuL2RlZmF1bHQtd2lkZ2V0cyc7XHJcbmltcG9ydCB7IE9yZGVyQ2hhcnRXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL3dpZGdldHMvb3JkZXItY2hhcnQtd2lkZ2V0L29yZGVyLWNoYXJ0LXdpZGdldC5jb21wb25lbnQnO1xyXG5cclxuQE5nTW9kdWxlKHtcclxuICAgIGltcG9ydHM6IFtTaGFyZWRNb2R1bGUsIFJvdXRlck1vZHVsZS5mb3JDaGlsZChkYXNoYm9hcmRSb3V0ZXMpXSxcclxuICAgIGRlY2xhcmF0aW9uczogW0Rhc2hib2FyZENvbXBvbmVudCwgRGFzaGJvYXJkV2lkZ2V0Q29tcG9uZW50LCBPcmRlckNoYXJ0V2lkZ2V0Q29tcG9uZW50XSxcclxufSlcclxuZXhwb3J0IGNsYXNzIERhc2hib2FyZE1vZHVsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXNoYm9hcmRXaWRnZXRTZXJ2aWNlOiBEYXNoYm9hcmRXaWRnZXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoREVGQVVMVF9XSURHRVRTKS5tYXAoKFtpZCwgY29uZmlnXSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWRhc2hib2FyZFdpZGdldFNlcnZpY2UuZ2V0V2lkZ2V0QnlJZChpZCkpIHtcclxuICAgICAgICAgICAgICAgIGRhc2hib2FyZFdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoaWQsIGNvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZGFzaGJvYXJkV2lkZ2V0U2VydmljZS5nZXREZWZhdWx0TGF5b3V0KCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGRhc2hib2FyZFdpZGdldFNlcnZpY2Uuc2V0RGVmYXVsdExheW91dChERUZBVUxUX0RBU0hCT0FSRF9XSURHRVRfTEFZT1VUKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19