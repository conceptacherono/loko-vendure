import { useContext } from 'react';
import { HostedComponentContext } from '../directives/react-component-host.directive';
/**
 * @description
 * Exposes the Angular injector which allows the injection of services into React components.
 *
 * @example
 * ```ts
 * import { useInjector } from '\@vendure/admin-ui/react';
 * import { NotificationService } from '\@vendure/admin-ui/core';
 *
 * export const MyComponent = () => {
 *     const notificationService = useInjector(NotificationService);
 *
 *     const handleClick = () => {
 *         notificationService.success('Hello world!');
 *     };
 *     // ...
 *     return <div>...</div>;
 * }
 * ```
 *
 * @docsCategory react-hooks
 */
export function useInjector(token) {
    const context = useContext(HostedComponentContext);
    const instance = context?.injector.get(token);
    if (!instance) {
        throw new Error(`Could not inject ${token.name ?? token.toString()}`);
    }
    return instance;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWluamVjdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9yZWFjdC9zcmMvcmVhY3QtaG9va3MvdXNlLWluamVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxPQUFPLENBQUM7QUFDbkMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sOENBQThDLENBQUM7QUFFdEY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXFCRztBQUNILE1BQU0sVUFBVSxXQUFXLENBQVUsS0FBdUI7SUFDeEQsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLHNCQUFzQixDQUFDLENBQUM7SUFDbkQsTUFBTSxRQUFRLEdBQUcsT0FBTyxFQUFFLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBcUIsS0FBYSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ25GLENBQUM7SUFDRCxPQUFPLFFBQVEsQ0FBQztBQUNwQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJvdmlkZXJUb2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBIb3N0ZWRDb21wb25lbnRDb250ZXh0IH0gZnJvbSAnLi4vZGlyZWN0aXZlcy9yZWFjdC1jb21wb25lbnQtaG9zdC5kaXJlY3RpdmUnO1xyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFeHBvc2VzIHRoZSBBbmd1bGFyIGluamVjdG9yIHdoaWNoIGFsbG93cyB0aGUgaW5qZWN0aW9uIG9mIHNlcnZpY2VzIGludG8gUmVhY3QgY29tcG9uZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHNcclxuICogaW1wb3J0IHsgdXNlSW5qZWN0b3IgfSBmcm9tICdcXEB2ZW5kdXJlL2FkbWluLXVpL3JlYWN0JztcclxuICogaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJ1xcQHZlbmR1cmUvYWRtaW4tdWkvY29yZSc7XHJcbiAqXHJcbiAqIGV4cG9ydCBjb25zdCBNeUNvbXBvbmVudCA9ICgpID0+IHtcclxuICogICAgIGNvbnN0IG5vdGlmaWNhdGlvblNlcnZpY2UgPSB1c2VJbmplY3RvcihOb3RpZmljYXRpb25TZXJ2aWNlKTtcclxuICpcclxuICogICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKCkgPT4ge1xyXG4gKiAgICAgICAgIG5vdGlmaWNhdGlvblNlcnZpY2Uuc3VjY2VzcygnSGVsbG8gd29ybGQhJyk7XHJcbiAqICAgICB9O1xyXG4gKiAgICAgLy8gLi4uXHJcbiAqICAgICByZXR1cm4gPGRpdj4uLi48L2Rpdj47XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBkb2NzQ2F0ZWdvcnkgcmVhY3QtaG9va3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VJbmplY3RvcjxUID0gYW55Pih0b2tlbjogUHJvdmlkZXJUb2tlbjxUPik6IFQge1xyXG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoSG9zdGVkQ29tcG9uZW50Q29udGV4dCk7XHJcbiAgICBjb25zdCBpbnN0YW5jZSA9IGNvbnRleHQ/LmluamVjdG9yLmdldCh0b2tlbik7XHJcbiAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgaW5qZWN0ICR7KHRva2VuIGFzIGFueSkubmFtZSA/PyB0b2tlbi50b1N0cmluZygpfWApO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbiJdfQ==