import { ChangeDetectionStrategy, Component, Input, Self, ViewChild, } from '@angular/core';
import { combineLatest } from 'rxjs';
import { map, tap } from 'rxjs/operators';
import { ActionBarBaseComponent } from '../action-bar-items/action-bar-base.component';
import { DropdownComponent } from '../dropdown/dropdown.component';
import * as i0 from "@angular/core";
import * as i1 from "@clr/angular";
import * as i2 from "@angular/common";
import * as i3 from "@angular/router";
import * as i4 from "../dropdown/dropdown.component";
import * as i5 from "../dropdown/dropdown-menu.component";
import * as i6 from "../dropdown/dropdown-trigger.directive";
import * as i7 from "../dropdown/dropdown-item.directive";
import * as i8 from "../../directives/if-permissions.directive";
import * as i9 from "../ui-extension-point/ui-extension-point.component";
import * as i10 from "@ngx-translate/core";
export class ActionBarDropdownMenuComponent extends ActionBarBaseComponent {
    constructor() {
        super(...arguments);
        this.alwaysShow = false;
    }
    ngOnInit() {
        this.items$ = combineLatest(this.navBuilderService.actionBarDropdownConfig$, this.locationId$).pipe(map(([items, locationId]) => items.filter(config => config.locationId === locationId)), tap(items => {
            this.buildButtonStates(items);
        }));
    }
    ngAfterViewInit() {
        if (this.onDropdownComponentResolvedFn) {
            this.onDropdownComponentResolvedFn(this.dropdownComponent);
        }
    }
    onDropdownComponentResolved(fn) {
        this.onDropdownComponentResolvedFn = fn;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.2.4", ngImport: i0, type: ActionBarDropdownMenuComponent, deps: null, target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "17.2.4", type: ActionBarDropdownMenuComponent, selector: "vdr-action-bar-dropdown-menu", inputs: { alwaysShow: "alwaysShow" }, providers: [
            // This is a rather involved work-around to allow the {@link DropdownItemDirective} to
            // be able to access the DropdownComponent instance even when it is not a direct parent,
            // as is the case when this component is used.
            {
                provide: DropdownComponent,
                useFactory: (actionBarDropdownMenuComponent) => {
                    return new Promise(resolve => actionBarDropdownMenuComponent.onDropdownComponentResolved(cmp => resolve(cmp)));
                },
                deps: [[new Self(), ActionBarDropdownMenuComponent]],
            },
        ], viewQueries: [{ propertyName: "dropdownComponent", first: true, predicate: ["dropdownComponent"], descendants: true }], usesInheritance: true, ngImport: i0, template: "<vdr-ui-extension-point [locationId]=\"locationId\" api=\"actionBarDropdown\" [leftPx]=\"-24\">\r\n    <vdr-dropdown #dropdownComponent *ngIf=\"alwaysShow || (items$ | async)?.length\">\r\n        <button class=\"icon-button\" vdrDropdownTrigger>\r\n            <clr-icon shape=\"ellipsis-vertical\"></clr-icon>\r\n        </button>\r\n        <vdr-dropdown-menu vdrPosition=\"bottom-right\">\r\n            <ng-content />\r\n            <ng-container *ngFor=\"let item of items$ | async\">\r\n                <ng-container *ngIf=\"buttonStates[item.id] | async as buttonState\">\r\n                    <div class=\"dropdown-divider\" *ngIf=\"item.hasDivider === true\"></div>\r\n                    <button\r\n                        type=\"button\"\r\n                        vdrDropdownItem\r\n                        *vdrIfPermissions=\"item.requiresPermission\"\r\n                        [routerLink]=\"getRouterLink(item)\"\r\n                        [class.hidden]=\"buttonState.visible === false\"\r\n                        [disabled]=\"buttonState.disabled\"\r\n                        (click)=\"handleClick($event, item)\"\r\n                        class=\"mr-2\"\r\n                    >\r\n                        <clr-icon *ngIf=\"item.icon\" [attr.shape]=\"item.icon\"></clr-icon>\r\n                        {{ item.label | translate }}\r\n                    </button>\r\n                </ng-container>\r\n            </ng-container>\r\n        </vdr-dropdown-menu>\r\n    </vdr-dropdown>\r\n</vdr-ui-extension-point>\r\n", styles: [""], dependencies: [{ kind: "directive", type: i1.ClrIconCustomTag, selector: "clr-icon" }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i3.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "info", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "component", type: i4.DropdownComponent, selector: "vdr-dropdown", inputs: ["manualToggle"] }, { kind: "component", type: i5.DropdownMenuComponent, selector: "vdr-dropdown-menu", inputs: ["vdrPosition", "customClasses"] }, { kind: "directive", type: i6.DropdownTriggerDirective, selector: "[vdrDropdownTrigger]" }, { kind: "directive", type: i7.DropdownItemDirective, selector: "[vdrDropdownItem]" }, { kind: "directive", type: i8.IfPermissionsDirective, selector: "[vdrIfPermissions]", inputs: ["vdrIfPermissions", "vdrIfPermissionsElse"] }, { kind: "component", type: i9.UiExtensionPointComponent, selector: "vdr-ui-extension-point", inputs: ["locationId", "metadata", "topPx", "leftPx", "display", "api"] }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }, { kind: "pipe", type: i10.TranslatePipe, name: "translate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.2.4", ngImport: i0, type: ActionBarDropdownMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: 'vdr-action-bar-dropdown-menu', changeDetection: ChangeDetectionStrategy.OnPush, providers: [
                        // This is a rather involved work-around to allow the {@link DropdownItemDirective} to
                        // be able to access the DropdownComponent instance even when it is not a direct parent,
                        // as is the case when this component is used.
                        {
                            provide: DropdownComponent,
                            useFactory: (actionBarDropdownMenuComponent) => {
                                return new Promise(resolve => actionBarDropdownMenuComponent.onDropdownComponentResolved(cmp => resolve(cmp)));
                            },
                            deps: [[new Self(), ActionBarDropdownMenuComponent]],
                        },
                    ], template: "<vdr-ui-extension-point [locationId]=\"locationId\" api=\"actionBarDropdown\" [leftPx]=\"-24\">\r\n    <vdr-dropdown #dropdownComponent *ngIf=\"alwaysShow || (items$ | async)?.length\">\r\n        <button class=\"icon-button\" vdrDropdownTrigger>\r\n            <clr-icon shape=\"ellipsis-vertical\"></clr-icon>\r\n        </button>\r\n        <vdr-dropdown-menu vdrPosition=\"bottom-right\">\r\n            <ng-content />\r\n            <ng-container *ngFor=\"let item of items$ | async\">\r\n                <ng-container *ngIf=\"buttonStates[item.id] | async as buttonState\">\r\n                    <div class=\"dropdown-divider\" *ngIf=\"item.hasDivider === true\"></div>\r\n                    <button\r\n                        type=\"button\"\r\n                        vdrDropdownItem\r\n                        *vdrIfPermissions=\"item.requiresPermission\"\r\n                        [routerLink]=\"getRouterLink(item)\"\r\n                        [class.hidden]=\"buttonState.visible === false\"\r\n                        [disabled]=\"buttonState.disabled\"\r\n                        (click)=\"handleClick($event, item)\"\r\n                        class=\"mr-2\"\r\n                    >\r\n                        <clr-icon *ngIf=\"item.icon\" [attr.shape]=\"item.icon\"></clr-icon>\r\n                        {{ item.label | translate }}\r\n                    </button>\r\n                </ng-container>\r\n            </ng-container>\r\n        </vdr-dropdown-menu>\r\n    </vdr-dropdown>\r\n</vdr-ui-extension-point>\r\n" }]
        }], propDecorators: { dropdownComponent: [{
                type: ViewChild,
                args: ['dropdownComponent']
            }], alwaysShow: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLWJhci1kcm9wZG93bi1tZW51LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29yZS9zcmMvc2hhcmVkL2NvbXBvbmVudHMvYWN0aW9uLWJhci1kcm9wZG93bi1tZW51L2FjdGlvbi1iYXItZHJvcGRvd24tbWVudS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL3NoYXJlZC9jb21wb25lbnRzL2FjdGlvbi1iYXItZHJvcGRvd24tbWVudS9hY3Rpb24tYmFyLWRyb3Bkb3duLW1lbnUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVILHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsS0FBSyxFQUVMLElBQUksRUFDSixTQUFTLEdBQ1osTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUNyQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTFDLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBQ3ZGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDOzs7Ozs7Ozs7Ozs7QUFzQm5FLE1BQU0sT0FBTyw4QkFDVCxTQUFRLHNCQUFpRDtJQXJCN0Q7O1FBNEJJLGVBQVUsR0FBRyxLQUFLLENBQUM7S0FzQnRCO0lBbEJHLFFBQVE7UUFDSixJQUFJLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FDL0YsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBQyxDQUFDLEVBQ3RGLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNSLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FDTCxDQUFDO0lBQ04sQ0FBQztJQUVELGVBQWU7UUFDWCxJQUFJLElBQUksQ0FBQyw2QkFBNkIsRUFBRSxDQUFDO1lBQ3JDLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUMvRCxDQUFDO0lBQ0wsQ0FBQztJQUVELDJCQUEyQixDQUFDLEVBQWtEO1FBQzFFLElBQUksQ0FBQyw2QkFBNkIsR0FBRyxFQUFFLENBQUM7SUFDNUMsQ0FBQzs4R0E3QlEsOEJBQThCO2tHQUE5Qiw4QkFBOEIsNkZBZjVCO1lBQ1Asc0ZBQXNGO1lBQ3RGLHdGQUF3RjtZQUN4Riw4Q0FBOEM7WUFDOUM7Z0JBQ0ksT0FBTyxFQUFFLGlCQUFpQjtnQkFDMUIsVUFBVSxFQUFFLENBQUMsOEJBQThELEVBQUUsRUFBRTtvQkFDM0UsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUN6Qiw4QkFBOEIsQ0FBQywyQkFBMkIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUNsRixDQUFDO2dCQUNOLENBQUM7Z0JBQ0QsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxFQUFFLDhCQUE4QixDQUFDLENBQUM7YUFDdkQ7U0FDSix5S0NsQ0wsc2dEQTRCQTs7MkZEUWEsOEJBQThCO2tCQXBCMUMsU0FBUzsrQkFDSSw4QkFBOEIsbUJBR3ZCLHVCQUF1QixDQUFDLE1BQU0sYUFDcEM7d0JBQ1Asc0ZBQXNGO3dCQUN0Rix3RkFBd0Y7d0JBQ3hGLDhDQUE4Qzt3QkFDOUM7NEJBQ0ksT0FBTyxFQUFFLGlCQUFpQjs0QkFDMUIsVUFBVSxFQUFFLENBQUMsOEJBQThELEVBQUUsRUFBRTtnQ0FDM0UsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUN6Qiw4QkFBOEIsQ0FBQywyQkFBMkIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUNsRixDQUFDOzRCQUNOLENBQUM7NEJBQ0QsSUFBSSxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxpQ0FBaUMsQ0FBQzt5QkFDdkQ7cUJBQ0o7OEJBT0QsaUJBQWlCO3NCQURoQixTQUFTO3VCQUFDLG1CQUFtQjtnQkFJOUIsVUFBVTtzQkFEVCxLQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIEFmdGVyVmlld0luaXQsXHJcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcclxuICAgIENvbXBvbmVudCxcclxuICAgIElucHV0LFxyXG4gICAgT25Jbml0LFxyXG4gICAgU2VsZixcclxuICAgIFZpZXdDaGlsZCxcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuXHJcbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHsgbWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XHJcbmltcG9ydCB7IEFjdGlvbkJhckRyb3Bkb3duTWVudUl0ZW0gfSBmcm9tICcuLi8uLi8uLi9wcm92aWRlcnMvbmF2LWJ1aWxkZXIvbmF2LWJ1aWxkZXItdHlwZXMnO1xyXG5pbXBvcnQgeyBBY3Rpb25CYXJCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYWN0aW9uLWJhci1pdGVtcy9hY3Rpb24tYmFyLWJhc2UuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRHJvcGRvd25Db21wb25lbnQgfSBmcm9tICcuLi9kcm9wZG93bi9kcm9wZG93bi5jb21wb25lbnQnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ3Zkci1hY3Rpb24tYmFyLWRyb3Bkb3duLW1lbnUnLFxyXG4gICAgdGVtcGxhdGVVcmw6ICcuL2FjdGlvbi1iYXItZHJvcGRvd24tbWVudS5jb21wb25lbnQuaHRtbCcsXHJcbiAgICBzdHlsZVVybHM6IFsnLi9hY3Rpb24tYmFyLWRyb3Bkb3duLW1lbnUuY29tcG9uZW50LmNzcyddLFxyXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXHJcbiAgICBwcm92aWRlcnM6IFtcclxuICAgICAgICAvLyBUaGlzIGlzIGEgcmF0aGVyIGludm9sdmVkIHdvcmstYXJvdW5kIHRvIGFsbG93IHRoZSB7QGxpbmsgRHJvcGRvd25JdGVtRGlyZWN0aXZlfSB0b1xyXG4gICAgICAgIC8vIGJlIGFibGUgdG8gYWNjZXNzIHRoZSBEcm9wZG93bkNvbXBvbmVudCBpbnN0YW5jZSBldmVuIHdoZW4gaXQgaXMgbm90IGEgZGlyZWN0IHBhcmVudCxcclxuICAgICAgICAvLyBhcyBpcyB0aGUgY2FzZSB3aGVuIHRoaXMgY29tcG9uZW50IGlzIHVzZWQuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcm92aWRlOiBEcm9wZG93bkNvbXBvbmVudCxcclxuICAgICAgICAgICAgdXNlRmFjdG9yeTogKGFjdGlvbkJhckRyb3Bkb3duTWVudUNvbXBvbmVudDogQWN0aW9uQmFyRHJvcGRvd25NZW51Q29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJhckRyb3Bkb3duTWVudUNvbXBvbmVudC5vbkRyb3Bkb3duQ29tcG9uZW50UmVzb2x2ZWQoY21wID0+IHJlc29sdmUoY21wKSksXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZXBzOiBbW25ldyBTZWxmKCksIEFjdGlvbkJhckRyb3Bkb3duTWVudUNvbXBvbmVudF1dLFxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQWN0aW9uQmFyRHJvcGRvd25NZW51Q29tcG9uZW50XHJcbiAgICBleHRlbmRzIEFjdGlvbkJhckJhc2VDb21wb25lbnQ8QWN0aW9uQmFyRHJvcGRvd25NZW51SXRlbT5cclxuICAgIGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0XHJcbntcclxuICAgIEBWaWV3Q2hpbGQoJ2Ryb3Bkb3duQ29tcG9uZW50JylcclxuICAgIGRyb3Bkb3duQ29tcG9uZW50OiBEcm9wZG93bkNvbXBvbmVudDtcclxuXHJcbiAgICBASW5wdXQoKVxyXG4gICAgYWx3YXlzU2hvdyA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgb25Ecm9wZG93bkNvbXBvbmVudFJlc29sdmVkRm46IChkcm9wZG93bkNvbXBvbmVudDogRHJvcGRvd25Db21wb25lbnQpID0+IHZvaWQ7XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5pdGVtcyQgPSBjb21iaW5lTGF0ZXN0KHRoaXMubmF2QnVpbGRlclNlcnZpY2UuYWN0aW9uQmFyRHJvcGRvd25Db25maWckLCB0aGlzLmxvY2F0aW9uSWQkKS5waXBlKFxyXG4gICAgICAgICAgICBtYXAoKFtpdGVtcywgbG9jYXRpb25JZF0pID0+IGl0ZW1zLmZpbHRlcihjb25maWcgPT4gY29uZmlnLmxvY2F0aW9uSWQgPT09IGxvY2F0aW9uSWQpKSxcclxuICAgICAgICAgICAgdGFwKGl0ZW1zID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRCdXR0b25TdGF0ZXMoaXRlbXMpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5vbkRyb3Bkb3duQ29tcG9uZW50UmVzb2x2ZWRGbikge1xyXG4gICAgICAgICAgICB0aGlzLm9uRHJvcGRvd25Db21wb25lbnRSZXNvbHZlZEZuKHRoaXMuZHJvcGRvd25Db21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbkRyb3Bkb3duQ29tcG9uZW50UmVzb2x2ZWQoZm46IChkcm9wZG93bkNvbXBvbmVudDogRHJvcGRvd25Db21wb25lbnQpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLm9uRHJvcGRvd25Db21wb25lbnRSZXNvbHZlZEZuID0gZm47XHJcbiAgICB9XHJcbn1cclxuIiwiPHZkci11aS1leHRlbnNpb24tcG9pbnQgW2xvY2F0aW9uSWRdPVwibG9jYXRpb25JZFwiIGFwaT1cImFjdGlvbkJhckRyb3Bkb3duXCIgW2xlZnRQeF09XCItMjRcIj5cclxuICAgIDx2ZHItZHJvcGRvd24gI2Ryb3Bkb3duQ29tcG9uZW50ICpuZ0lmPVwiYWx3YXlzU2hvdyB8fCAoaXRlbXMkIHwgYXN5bmMpPy5sZW5ndGhcIj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiaWNvbi1idXR0b25cIiB2ZHJEcm9wZG93blRyaWdnZXI+XHJcbiAgICAgICAgICAgIDxjbHItaWNvbiBzaGFwZT1cImVsbGlwc2lzLXZlcnRpY2FsXCI+PC9jbHItaWNvbj5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8dmRyLWRyb3Bkb3duLW1lbnUgdmRyUG9zaXRpb249XCJib3R0b20tcmlnaHRcIj5cclxuICAgICAgICAgICAgPG5nLWNvbnRlbnQgLz5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgaXRlbSBvZiBpdGVtcyQgfCBhc3luY1wiPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImJ1dHRvblN0YXRlc1tpdGVtLmlkXSB8IGFzeW5jIGFzIGJ1dHRvblN0YXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWRpdmlkZXJcIiAqbmdJZj1cIml0ZW0uaGFzRGl2aWRlciA9PT0gdHJ1ZVwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZkckRyb3Bkb3duSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAqdmRySWZQZXJtaXNzaW9ucz1cIml0ZW0ucmVxdWlyZXNQZXJtaXNzaW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiZ2V0Um91dGVyTGluayhpdGVtKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5oaWRkZW5dPVwiYnV0dG9uU3RhdGUudmlzaWJsZSA9PT0gZmFsc2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwiYnV0dG9uU3RhdGUuZGlzYWJsZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiaGFuZGxlQ2xpY2soJGV2ZW50LCBpdGVtKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXItMlwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Y2xyLWljb24gKm5nSWY9XCJpdGVtLmljb25cIiBbYXR0ci5zaGFwZV09XCJpdGVtLmljb25cIj48L2Nsci1pY29uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7eyBpdGVtLmxhYmVsIHwgdHJhbnNsYXRlIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgPC92ZHItZHJvcGRvd24tbWVudT5cclxuICAgIDwvdmRyLWRyb3Bkb3duPlxyXG48L3Zkci11aS1leHRlbnNpb24tcG9pbnQ+XHJcbiJdfQ==