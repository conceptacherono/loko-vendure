import { APP_INITIALIZER } from '@angular/core';
import { AlertsService } from '../providers/alerts/alerts.service';
/**
 * @description
 * Registers an alert which can be displayed in the Admin UI alert dropdown in the top bar.
 * The alert is configured using the {@link AlertConfig} object.
 *
 * @since 2.2.0
 * @docsCategory alerts
 */
export function registerAlert(config) {
    return {
        provide: APP_INITIALIZER,
        multi: true,
        useFactory: (alertsService) => () => {
            alertsService.configureAlert(config);
            alertsService.refresh(config.id);
        },
        deps: [AlertsService],
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVnaXN0ZXItYWxlcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL2V4dGVuc2lvbi9yZWdpc3Rlci1hbGVydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFtQixNQUFNLGVBQWUsQ0FBQztBQUNqRSxPQUFPLEVBQWUsYUFBYSxFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFFaEY7Ozs7Ozs7R0FPRztBQUNILE1BQU0sVUFBVSxhQUFhLENBQUMsTUFBbUI7SUFDN0MsT0FBTztRQUNILE9BQU8sRUFBRSxlQUFlO1FBQ3hCLEtBQUssRUFBRSxJQUFJO1FBQ1gsVUFBVSxFQUFFLENBQUMsYUFBNEIsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFO1lBQy9DLGFBQWEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDckMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckMsQ0FBQztRQUNELElBQUksRUFBRSxDQUFDLGFBQWEsQ0FBQztLQUN4QixDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFQUF9JTklUSUFMSVpFUiwgRmFjdG9yeVByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEFsZXJ0Q29uZmlnLCBBbGVydHNTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL2FsZXJ0cy9hbGVydHMuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFJlZ2lzdGVycyBhbiBhbGVydCB3aGljaCBjYW4gYmUgZGlzcGxheWVkIGluIHRoZSBBZG1pbiBVSSBhbGVydCBkcm9wZG93biBpbiB0aGUgdG9wIGJhci5cclxuICogVGhlIGFsZXJ0IGlzIGNvbmZpZ3VyZWQgdXNpbmcgdGhlIHtAbGluayBBbGVydENvbmZpZ30gb2JqZWN0LlxyXG4gKlxyXG4gKiBAc2luY2UgMi4yLjBcclxuICogQGRvY3NDYXRlZ29yeSBhbGVydHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckFsZXJ0KGNvbmZpZzogQWxlcnRDb25maWcpOiBGYWN0b3J5UHJvdmlkZXIge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXHJcbiAgICAgICAgbXVsdGk6IHRydWUsXHJcbiAgICAgICAgdXNlRmFjdG9yeTogKGFsZXJ0c1NlcnZpY2U6IEFsZXJ0c1NlcnZpY2UpID0+ICgpID0+IHtcclxuICAgICAgICAgICAgYWxlcnRzU2VydmljZS5jb25maWd1cmVBbGVydChjb25maWcpO1xyXG4gICAgICAgICAgICBhbGVydHNTZXJ2aWNlLnJlZnJlc2goY29uZmlnLmlkKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlcHM6IFtBbGVydHNTZXJ2aWNlXSxcclxuICAgIH07XHJcbn1cclxuIl19