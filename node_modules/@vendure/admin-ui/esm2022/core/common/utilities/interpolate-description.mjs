/**
 * Interpolates the description of an ConfigurableOperation with the given values.
 */
export function interpolateDescription(operation, values, precisionFactor = 100) {
    if (!operation) {
        return '';
    }
    const templateString = operation.description;
    const interpolated = templateString.replace(/{\s*([a-zA-Z0-9]+)\s*}/gi, (substring, argName) => {
        const normalizedArgName = argName.toLowerCase();
        const value = values[normalizedArgName];
        if (value == null) {
            return '_';
        }
        let formatted = value;
        const argDef = operation.args.find(arg => arg.name === normalizedArgName);
        if (argDef && argDef.type === 'int' && argDef.ui && argDef.ui.component === 'currency-form-input') {
            formatted = value / precisionFactor;
        }
        if (argDef && argDef.type === 'datetime' && value instanceof Date) {
            formatted = value.toLocaleDateString();
        }
        return formatted;
    });
    return interpolated;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJwb2xhdGUtZGVzY3JpcHRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvcmUvc3JjL2NvbW1vbi91dGlsaXRpZXMvaW50ZXJwb2xhdGUtZGVzY3JpcHRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7O0dBRUc7QUFDSCxNQUFNLFVBQVUsc0JBQXNCLENBQ2xDLFNBQTBDLEVBQzFDLE1BQStCLEVBQy9CLGVBQWUsR0FBRyxHQUFHO0lBRXJCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNiLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNELE1BQU0sY0FBYyxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQUM7SUFDN0MsTUFBTSxZQUFZLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQywwQkFBMEIsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFlLEVBQUUsRUFBRTtRQUNuRyxNQUFNLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNoRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUN4QyxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNoQixPQUFPLEdBQUcsQ0FBQztRQUNmLENBQUM7UUFDRCxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLGlCQUFpQixDQUFDLENBQUM7UUFDMUUsSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxLQUFLLElBQUksTUFBTSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsRUFBRSxDQUFDLFNBQVMsS0FBSyxxQkFBcUIsRUFBRSxDQUFDO1lBQ2hHLFNBQVMsR0FBRyxLQUFLLEdBQUcsZUFBZSxDQUFDO1FBQ3hDLENBQUM7UUFDRCxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLFVBQVUsSUFBSSxLQUFLLFlBQVksSUFBSSxFQUFFLENBQUM7WUFDaEUsU0FBUyxHQUFHLEtBQUssQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQzNDLENBQUM7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNyQixDQUFDLENBQUMsQ0FBQztJQUNILE9BQU8sWUFBWSxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25maWd1cmFibGVPcGVyYXRpb25EZWZpbml0aW9uIH0gZnJvbSAnLi4vZ2VuZXJhdGVkLXR5cGVzJztcclxuXHJcbi8qKlxyXG4gKiBJbnRlcnBvbGF0ZXMgdGhlIGRlc2NyaXB0aW9uIG9mIGFuIENvbmZpZ3VyYWJsZU9wZXJhdGlvbiB3aXRoIHRoZSBnaXZlbiB2YWx1ZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVEZXNjcmlwdGlvbihcclxuICAgIG9wZXJhdGlvbjogQ29uZmlndXJhYmxlT3BlcmF0aW9uRGVmaW5pdGlvbixcclxuICAgIHZhbHVlczogeyBbbmFtZTogc3RyaW5nXTogYW55IH0sXHJcbiAgICBwcmVjaXNpb25GYWN0b3IgPSAxMDAsXHJcbik6IHN0cmluZyB7XHJcbiAgICBpZiAoIW9wZXJhdGlvbikge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGNvbnN0IHRlbXBsYXRlU3RyaW5nID0gb3BlcmF0aW9uLmRlc2NyaXB0aW9uO1xyXG4gICAgY29uc3QgaW50ZXJwb2xhdGVkID0gdGVtcGxhdGVTdHJpbmcucmVwbGFjZSgve1xccyooW2EtekEtWjAtOV0rKVxccyp9L2dpLCAoc3Vic3RyaW5nLCBhcmdOYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkQXJnTmFtZSA9IGFyZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tub3JtYWxpemVkQXJnTmFtZV07XHJcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdfJztcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGZvcm1hdHRlZCA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGFyZ0RlZiA9IG9wZXJhdGlvbi5hcmdzLmZpbmQoYXJnID0+IGFyZy5uYW1lID09PSBub3JtYWxpemVkQXJnTmFtZSk7XHJcbiAgICAgICAgaWYgKGFyZ0RlZiAmJiBhcmdEZWYudHlwZSA9PT0gJ2ludCcgJiYgYXJnRGVmLnVpICYmIGFyZ0RlZi51aS5jb21wb25lbnQgPT09ICdjdXJyZW5jeS1mb3JtLWlucHV0Jykge1xyXG4gICAgICAgICAgICBmb3JtYXR0ZWQgPSB2YWx1ZSAvIHByZWNpc2lvbkZhY3RvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFyZ0RlZiAmJiBhcmdEZWYudHlwZSA9PT0gJ2RhdGV0aW1lJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICAgICAgZm9ybWF0dGVkID0gdmFsdWUudG9Mb2NhbGVEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQ7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnRlcnBvbGF0ZWQ7XHJcbn1cclxuIl19