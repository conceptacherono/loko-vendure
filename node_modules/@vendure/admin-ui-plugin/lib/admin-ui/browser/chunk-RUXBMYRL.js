import{$c as pt,$d as Be,Aa as ye,Ab as Se,Ae,B as G,Be as Fe,Ca as m,Da as k,Df as Ne,Ea as f,Ef as Ue,Eg as K,F as re,Fa as A,Gg as Je,H as me,I as R,L as ge,Le as je,Lg as Y,Ma as F,Me as H,Mf as Ge,Mg as V,P as b,Q as ue,Qa as d,Ra as c,Rb as Oe,Sa as $,Sb as Te,T as _,Tb as Me,U as v,Ua as xe,Va as we,Wa as be,Ya as De,Yd as Le,Yf as qe,Za as B,Zd as Pe,Zf as ze,_ as n,_d as $e,a as ae,aa as x,ae as L,b as de,ba as fe,ca as y,da as D,db as S,dd as O,dh as J,e as se,ed as Ie,f as ce,fg as Qe,g as pe,h as U,ha as u,id as We,ja as p,jd as ke,jf as lt,la as I,ld as T,ma as o,mg as He,n as M,na as a,nb as E,nd as Q,ng as Ke,o as le,oa as h,rg as Ye,sa as W,ta as C,ua as g,va as he,wa as _e,xb as q,xe as Ee,ya as ve,ye as Ve,za as Ce,zb as z,ze as Re}from"./chunk-KV5QNU55.js";var Xe=se(pt());var mt=["portal"],gt=["*"];function ut(i,l){i&1&&_e(0)}function ft(i,l){}var Ze=(()=>{class i{ngAfterViewInit(){this.loadWidget()}loadWidget(){return ce(this,null,function*(){let e=this.widgetConfig.loadComponent(),t=e instanceof Promise?yield e:e;this.componentRef=this.portal.createComponent(t),this.componentRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.componentRef&&this.componentRef.destroy()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-dashboard-widget"]],viewQuery:function(t,r){if(t&1&&ve(mt,5,fe),t&2){let s;Ce(s=ye())&&(r.portal=s.first)}},inputs:{widgetConfig:"widgetConfig"},standalone:!1,ngContentSelectors:gt,decls:5,vars:3,consts:[["portal",""],[3,"title"],["vdrCardControls",""]],template:function(t,r){if(t&1&&(he(),o(0,"vdr-card",1),d(1,"translate"),u(2,ut,1,0,"ng-template",2)(3,ft,0,0,"ng-template",null,0,xe),a()),t&2){let s;p("title",c(1,1,(s=r.widgetConfig.title)!==null&&s!==void 0?s:""))}},dependencies:[Ue,Ne,T],styles:[`[_nghost-%COMP%]{display:block}.card[_ngcontent-%COMP%]{margin-top:0;min-height:200px}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}
/*# sourceMappingURL=dashboard-widget.component-QZMAFGFD.css.map */`],changeDetection:0})}}return i})();var _t=i=>({index:i}),vt=i=>({width:i});function Ct(i,l){if(i&1){let e=W();o(0,"button",8),C("click",function(){let r=_(e).$implicit,s=g();return v(s.addWidget(r.id))}),m(1),d(2,"translate"),a()}if(i&2){let e,t=l.$implicit;n(),f(" ",c(2,1,(e=t.config.title)!==null&&e!==void 0?e:t.id)," ")}}function yt(i,l){if(i&1){let e=W();o(0,"button",22),C("click",function(){let r=_(e).$implicit,s=g(2).$implicit,w=g(2);return v(w.setWidgetWidth(s,r))}),m(1),d(2,"translate"),a()}if(i&2){let e=l.$implicit,t=g(2).$implicit;p("disabled",e===t.width),n(),f(" ",$(2,2,"dashboard.widget-width",F(5,vt,e))," ")}}function xt(i,l){if(i&1){let e=W();o(0,"vdr-dashboard-widget",13)(1,"div",14)(2,"div",15),h(3,"clr-icon",16),a(),o(4,"vdr-dropdown")(5,"button",17),h(6,"clr-icon",3),a(),o(7,"vdr-dropdown-menu",4)(8,"h4",18),m(9),d(10,"translate"),a(),u(11,yt,3,7,"button",19),h(12,"div",20),o(13,"button",8),C("click",function(){_(e);let r=g().$implicit,s=g(2);return v(s.removeWidget(r))}),h(14,"clr-icon",21),m(15),d(16,"translate"),a()()()()()}if(i&2){let e=g().$implicit,t=g(2);p("widgetConfig",e.config),n(9),k(c(10,4,"dashboard.widget-resize")),n(2),p("ngForOf",t.getSupportedWidths(e.config)),n(4),f(" ",c(16,6,"dashboard.remove-widget")," ")}}function wt(i,l){if(i&1&&(o(0,"div",11),u(1,xt,17,8,"vdr-dashboard-widget",12),a()),i&2){let e=l.$implicit,t=g(2);p("ngClass",t.getClassForWidth(e.width))("cdkDragData",e),n(),p("vdrIfPermissions",e.config.requiresPermissions||null)}}function bt(i,l){if(i&1){let e=W();o(0,"div",9),C("cdkDropListDropped",function(r){_(e);let s=g();return v(s.drop(r))}),u(1,wt,2,3,"div",10),a()}if(i&2){let e=l.$implicit,t=l.index,r=g();p("cdkDropListData",F(3,_t,t)),n(),p("ngForOf",e)("ngForTrackBy",r.trackRowItem)}}var et=(()=>{class i{constructor(e,t,r,s){this.dashboardWidgetService=e,this.localStorageService=t,this.changedDetectorRef=r,this.dataService=s,this.deletionMarker="__delete__",this.setTitle=Ye()}ngOnInit(){this.availableWidgets$=this.dataService.client.userStatus().stream$.pipe(M(({userStatus:e})=>e.permissions),M(e=>this.dashboardWidgetService.getAvailableWidgets(e)),ge(e=>this.widgetLayout=this.initLayout(e.map(t=>t.id)))),this.setTitle("breadcrumb.dashboard")}getClassForWidth(e){switch(e){case 3:return"clr-col-12 clr-col-sm-6 clr-col-lg-3";case 4:return"clr-col-12 clr-col-sm-6 clr-col-lg-4";case 6:return"clr-col-12 clr-col-lg-6";case 8:return"clr-col-12 clr-col-lg-8";case 12:return"clr-col-12";default:(0,Xe.assertNever)(e)}}getSupportedWidths(e){return e.supportedWidths||[3,4,6,8,12]}setWidgetWidth(e,t){e.width=t,this.recalculateLayout()}trackRow(e,t){return t.map(s=>`${s.id}:${s.width}`).join("|")}trackRowItem(e,t){return t.config}addWidget(e){let t=this.dashboardWidgetService.getWidgetById(e);if(t){let r=this.getSupportedWidths(t)[0],s={id:e,config:t,width:r},w;this.widgetLayout&&this.widgetLayout.length?w=this.widgetLayout[this.widgetLayout.length-1]:(w=[],this.widgetLayout?.push(w)),w.push(s),this.recalculateLayout()}}removeWidget(e){e.id=this.deletionMarker,this.recalculateLayout()}drop(e){let{currentIndex:t,previousIndex:r,previousContainer:s,container:w}=e;if(!(r===t&&s.data.index===w.data.index)&&this.widgetLayout){let N=this.widgetLayout[s.data.index],ee=this.widgetLayout[w.data.index];N.splice(r,1),ee.splice(t,0,e.item.data),this.recalculateLayout()}}initLayout(e){let t=this.localStorageService.get("dashboardWidgetLayout"),r;return t&&(r=t.filter(s=>e.includes(s.id))),this.dashboardWidgetService.getWidgetLayout(r)}recalculateLayout(){if(this.widgetLayout){let t=this.widgetLayout.reduce((r,s)=>[...r,...s],[]).filter(r=>r.id!==this.deletionMarker).map(r=>({id:r.id,width:r.width}));this.widgetLayout=this.dashboardWidgetService.getWidgetLayout(t),this.localStorageService.set("dashboardWidgetLayout",t),setTimeout(()=>this.changedDetectorRef.markForCheck())}}static{this.\u0275fac=function(t){return new(t||i)(x(J),x(Ie),x(we),x(O))}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-dashboard"]],standalone:!1,decls:13,vars:8,consts:[[1,"widget-header","mb-1"],["vdrDropdownTrigger","",1,"btn","btn-secondary","btn-sm"],["shape","plus"],["shape","ellipsis-vertical"],["vdrPosition","bottom-right"],["vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["cdkDropListGroup",""],["class","clr-row dashboard-row","cdkDropList","","cdkDropListOrientation","horizontal",3,"cdkDropListData","cdkDropListDropped",4,"ngFor","ngForOf","ngForTrackBy"],["vdrDropdownItem","",3,"click"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"clr-row","dashboard-row",3,"cdkDropListDropped","cdkDropListData"],["class","dashboard-item","cdkDrag","",3,"ngClass","cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"dashboard-item",3,"ngClass","cdkDragData"],[3,"widgetConfig",4,"vdrIfPermissions"],[3,"widgetConfig"],[1,"flex"],["cdkDragHandle","",1,"drag-handle"],["shape","drag-handle","size","24"],["vdrDropdownTrigger","",1,"icon-button"],[1,"dropdown-header"],["vdrDropdownItem","",3,"disabled","click",4,"ngFor","ngForOf"],["role","separator",1,"dropdown-divider"],["shape","trash",1,"is-danger"],["vdrDropdownItem","",3,"click","disabled"]],template:function(t,r){t&1&&(o(0,"vdr-page-block")(1,"div",0)(2,"vdr-dropdown")(3,"button",1),h(4,"clr-icon",2),m(5),d(6,"translate"),h(7,"clr-icon",3),a(),o(8,"vdr-dropdown-menu",4),u(9,Ct,3,3,"button",5),d(10,"async"),a()()(),o(11,"div",6),u(12,bt,2,5,"div",7),a()()),t&2&&(n(5),f(" ",c(6,4,"dashboard.add-widget")," "),n(4),p("ngForOf",c(10,6,r.availableWidgets$)),n(3),p("ngForOf",r.widgetLayout)("ngForTrackBy",r.trackRow))},dependencies:[L,be,De,Be,$e,Pe,Le,Ee,Ve,Re,Ae,Ge,Ke,Ze,S,T],styles:[`.widget-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.placeholder[_ngcontent-%COMP%]{color:var(--color-grey-300);text-align:center}.placeholder[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:3em;margin:24px;line-height:1em}.placeholder[_ngcontent-%COMP%]     .clr-i-outline{fill:var(--color-grey-200)}vdr-dashboard-widget[_ngcontent-%COMP%]{margin-bottom:24px}.drag-handle[_ngcontent-%COMP%]{cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.dashboard-row[_ngcontent-%COMP%]{padding:0;border-width:1;margin-bottom:6px;transition:padding .2s,margin .2s}.dashboard-row.cdk-drop-list-dragging[_ngcontent-%COMP%], .dashboard-row.cdk-drop-list-receiving[_ngcontent-%COMP%]{border:2px dashed var(--color-component-border-200);border-radius:var(--border-radius);padding:6px}.dashboard-row.cdk-drop-list-dragging[_ngcontent-%COMP%]   .dashboard-item[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}
/*# sourceMappingURL=dashboard.component-4N4EKLV3.css.map */`],changeDetection:0})}}return i})();var tt=[{path:"",component:et,pathMatch:"full"}];var Ot=i=>["/orders/",i];function Tt(i,l){if(i&1&&(o(0,"a",6)(1,"span"),m(2),a(),h(3,"clr-icon",7),a()),i&2){let e=l.item;p("routerLink",F(2,Ot,e.id)),n(2),k(e.code)}}function Mt(i,l){if(i&1&&h(0,"vdr-order-state-label",8),i&2){let e=l.item;p("state",e.state)}}function It(i,l){if(i&1&&h(0,"vdr-customer-label",9),i&2){let e=l.item;p("customer",e.customer)}}function Wt(i,l){if(i&1&&(m(0),d(1,"localeCurrency")),i&2){let e=l.item;f(" ",$(1,1,e.totalWithTax,e.currencyCode)," ")}}function kt(i,l){if(i&1&&(m(0),d(1,"timeAgo")),i&2){let e=l.item;f(" ",c(1,1,e.orderPlacedAt)," ")}}var ci=E`
    query GetLatestOrders($options: OrderListOptions) {
        orders(options: $options) {
            items {
                id
                createdAt
                updatedAt
                type
                orderPlacedAt
                code
                state
                total
                totalWithTax
                currencyCode
                customer {
                    id
                    firstName
                    lastName
                }
            }
        }
    }
`,it=(()=>{class i{constructor(e){this.dataService=e}ngOnInit(){this.latestOrders$=this.dataService.query(Oe,{options:{take:10,filter:{active:{eq:!1},state:{notIn:["Cancelled","Draft"]}},sort:{orderPlacedAt:Se.DESC}}}).refetchOnChannelChange().mapStream(e=>e.orders.items)}static{this.\u0275fac=function(t){return new(t||i)(x(O))}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-latest-orders-widget"]],standalone:!1,decls:17,vars:20,consts:[["id","latest-orders-widget-list",3,"items"],["id","code",3,"heading"],["id","state",3,"heading","hiddenByDefault"],["id","customer",3,"heading","hiddenByDefault"],["id","total",3,"heading"],["id","placed-at",3,"heading"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"state"],[3,"customer"]],template:function(t,r){t&1&&(o(0,"vdr-data-table-2",0),d(1,"async"),o(2,"vdr-dt2-column",1),d(3,"translate"),u(4,Tt,4,4,"ng-template"),a(),o(5,"vdr-dt2-column",2),d(6,"translate"),u(7,Mt,1,1,"ng-template"),a(),o(8,"vdr-dt2-column",3),d(9,"translate"),u(10,It,1,1,"ng-template"),a(),o(11,"vdr-dt2-column",4),d(12,"translate"),u(13,Wt,2,4,"ng-template"),a(),o(14,"vdr-dt2-column",5),d(15,"translate"),u(16,kt,2,3,"ng-template"),a()()),t&2&&(p("items",c(1,8,r.latestOrders$)),n(2),p("heading",c(3,10,"common.code")),n(3),p("heading",c(6,12,"order.state"))("hiddenByDefault",!0),n(3),p("heading",c(9,14,"customer.customer"))("hiddenByDefault",!0),n(3),p("heading",c(12,16,"order.total")),n(3),p("heading",c(15,18,"order.placed-at")))},dependencies:[L,We,qe,He,Qe,ze,S,T,K,H],styles:[`vdr-data-table[_ngcontent-%COMP%]     table{margin-top:0}vdr-order-state-label[_ngcontent-%COMP%]{display:inline-block;margin-top:2px}
/*# sourceMappingURL=latest-orders-widget.component-UVDJUGJG.css.map */`],changeDetection:0})}}return i})(),pi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=b({imports:[V,Y]})}}return i})();function Lt(i,l){if(i&1){let e=W();o(0,"div",2)(1,"button",3),C("click",function(){_(e);let r=g();return v(r.metricType$.next(r.MetricType.OrderTotal))}),m(2),d(3,"translate"),a(),o(4,"button",4),C("click",function(){_(e);let r=g();return v(r.metricType$.next(r.MetricType.OrderCount))}),m(5),d(6,"translate"),a(),o(7,"button",4),C("click",function(){_(e);let r=g();return v(r.metricType$.next(r.MetricType.AverageOrderValue))}),m(8),d(9,"translate"),a(),h(10,"div",5),o(11,"button",3),C("click",function(){_(e);let r=g();return v(r.refresh())}),h(12,"clr-icon",6),a()()}if(i&2){let e=l.ngIf,t=g();n(),I("active",e===t.MetricType.OrderTotal),n(),f(" ",c(3,9,"dashboard.metric-order-total-value")," "),n(2),I("active",e===t.MetricType.OrderCount),n(),f(" ",c(6,11,"dashboard.metric-number-of-orders")," "),n(2),I("active",e===t.MetricType.AverageOrderValue),n(),f(" ",c(9,13,"dashboard.metric-average-order-value")," ")}}var _i=E`
    query GetOrderChartData($refresh: Boolean, $types: [MetricType!]!) {
        metricSummary(input: { interval: Daily, types: $types, refresh: $refresh }) {
            interval
            type
            entries {
                label
                value
            }
        }
    }
`,rt=(()=>{class i{constructor(e){this.dataService=e,this.refresh$=new pe,this.metricType$=new U(q.OrderTotal),this.MetricType=q}ngOnInit(){let e=this.dataService.settings.getActiveChannel().refetchOnChannelChange().mapStream(s=>s.activeChannel.defaultCurrencyCode||void 0),t=this.dataService.client.uiState().mapStream(s=>s.uiState),r=this.metricType$.pipe(G());this.metrics$=le(r,e,t).pipe(R(([s,w,N])=>this.refresh$.pipe(me(!1),R(ee=>this.dataService.query(Te,{types:[s],refresh:ee}).mapSingle(te=>te.metricSummary).pipe(M(te=>{let dt=s===q.OrderCount?"number":"currency",st=`${N.language}-${N.locale}`,ct={formatValueAs:dt,currencyCode:w,locale:st};return te.find(ie=>ie.type===s)?.entries.map(ie=>de(ae({},ie),{formatOptions:ct}))??[]}))))))}refresh(){this.refresh$.next(!0)}static{this.\u0275fac=function(t){return new(t||i)(x(O))}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-order-chart-widget"]],standalone:!1,decls:4,vars:6,consts:[[3,"entries"],["class","flex",4,"ngIf"],[1,"flex"],[1,"button-small",3,"click"],[1,"ml-1","button-small",3,"click"],[1,"flex-spacer"],["shape","refresh"]],template:function(t,r){t&1&&(h(0,"vdr-chart",0),d(1,"async"),u(2,Lt,13,15,"div",1),d(3,"async")),t&2&&(p("entries",c(1,2,r.metrics$)),n(2),p("ngIf",c(3,4,r.metricType$)))},dependencies:[L,B,Je,S,T],styles:[`.button-small.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200);color:var(--color-primary-900)}
/*# sourceMappingURL=order-chart-widget.component-DVOTLUX5.css.map */`],changeDetection:0})}}return i})();var oe=se(lt());function Pt(i,l){if(i&1){let e=W();o(0,"div",7)(1,"button",8),C("click",function(){_(e);let r=g();return v(r.selection$.next({timeframe:"day",date:r.today}))}),m(2),d(3,"translate"),a(),o(4,"button",9),C("click",function(){_(e);let r=g();return v(r.selection$.next({timeframe:"day",date:r.yesterday}))}),m(5),d(6,"translate"),a(),o(7,"button",9),C("click",function(){_(e);let r=g();return v(r.selection$.next({timeframe:"week"}))}),m(8),d(9,"translate"),a(),o(10,"button",9),C("click",function(){_(e);let r=g();return v(r.selection$.next({timeframe:"month"}))}),m(11),d(12,"translate"),a()()}if(i&2){let e=l.ngIf,t=g();n(),I("active",e.date===t.today),n(),f(" ",c(3,12,"dashboard.today")," "),n(2),I("active",e.date===t.yesterday),n(),f(" ",c(6,14,"dashboard.yesterday")," "),n(2),I("active",e.timeframe==="week"),n(),f(" ",c(9,16,"dashboard.thisWeek")," "),n(2),I("active",e.timeframe==="month"),n(),f(" ",c(12,18,"dashboard.thisMonth")," ")}}function $t(i,l){if(i&1&&(o(0,"div",10),m(1),d(2,"localeDate"),d(3,"localeDate"),a()),i&2){let e=l.ngIf;n(),A(" ",c(2,2,e.start)," - ",c(3,4,e.end)," ")}}var Si=E`
    query GetOrderSummary($start: DateTime!, $end: DateTime!) {
        orders(options: { filter: { orderPlacedAt: { between: { start: $start, end: $end } } } }) {
            totalItems
            items {
                id
                totalWithTax
                currencyCode
            }
        }
    }
`,nt=(()=>{class i{constructor(e){this.dataService=e,this.today=new Date,this.yesterday=new Date(new Date().setDate(this.today.getDate()-1)),this.selection$=new U({timeframe:"day",date:this.today})}ngOnInit(){this.dateRange$=this.selection$.pipe(G(),M(t=>({start:(0,oe.default)(t.date).startOf(t.timeframe).toDate(),end:(0,oe.default)(t.date).endOf(t.timeframe).toDate()})),re(1));let e=this.dateRange$.pipe(R(({start:t,end:r})=>this.dataService.query(Me,{start:t.toISOString(),end:r.toISOString()}).refetchOnChannelChange().mapStream(s=>s.orders)),re(1));this.totalOrderCount$=e.pipe(M(t=>t.totalItems)),this.totalOrderValue$=e.pipe(M(t=>t.items.reduce((r,s)=>r+s.totalWithTax,0))),this.currencyCode$=this.dataService.settings.getActiveChannel().refetchOnChannelChange().mapStream(t=>t.activeChannel.defaultCurrencyCode||void 0)}static{this.\u0275fac=function(t){return new(t||i)(x(O))}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-order-summary-widget"]],standalone:!1,decls:22,vars:23,consts:[[1,"stats"],[1,"stat"],[1,"stat-figure"],[1,"stat-label"],[1,"footer"],["class","flex",4,"ngIf"],["class","date-range",4,"ngIf"],[1,"flex"],[1,"button-small",3,"click"],[1,"ml-1","button-small",3,"click"],[1,"date-range"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),m(3),d(4,"async"),a(),o(5,"div",3),m(6),d(7,"translate"),a()(),o(8,"div",1)(9,"div",2),m(10),d(11,"async"),d(12,"async"),d(13,"localeCurrency"),a(),o(14,"div",3),m(15),d(16,"translate"),a()()(),o(17,"div",4),u(18,Pt,13,20,"div",5),d(19,"async"),u(20,$t,4,6,"div",6),d(21,"async"),a()),t&2&&(n(3),k(c(4,6,r.totalOrderCount$)),n(3),k(c(7,8,"dashboard.total-orders")),n(4),f(" ",$(13,14,c(11,10,r.totalOrderValue$),c(12,12,r.currencyCode$)||void 0)," "),n(5),k(c(16,17,"dashboard.total-order-value")),n(3),p("ngIf",c(19,19,r.selection$)),n(2),p("ngIf",c(21,21,r.dateRange$)))},dependencies:[B,S,T,je,H],styles:[`.stats[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.stat[_ngcontent-%COMP%]{text-align:center}.stat-figure[_ngcontent-%COMP%]{font-size:2rem;line-height:3rem}.stat-label[_ngcontent-%COMP%]{text-transform:uppercase}.date-range[_ngcontent-%COMP%]{margin-top:calc(var(--space-unit) * 3);font-size:var(--font-size-xs)}.footer[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column;justify-content:space-between}.button-small.active[_ngcontent-%COMP%]{background-color:var(--color-primary-200);color:var(--color-primary-900)}
/*# sourceMappingURL=order-summary-widget.component-VQA7QKBQ.css.map */`],changeDetection:0})}}return i})(),Oi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=b({imports:[V]})}}return i})();var ot=[{id:"metrics",width:12},{id:"orderSummary",width:6},{id:"latestOrders",width:6}],at={metrics:{title:"dashboard.metrics",supportedWidths:[6,8,12],loadComponent:()=>rt,requiresPermissions:[z.ReadOrder]},orderSummary:{title:"dashboard.orders-summary",loadComponent:()=>nt,supportedWidths:[4,6,8,12],requiresPermissions:[z.ReadOrder]},latestOrders:{title:"dashboard.latest-orders",loadComponent:()=>it,supportedWidths:[6,8,12],requiresPermissions:[z.ReadOrder]}};var Ui=(()=>{class i{constructor(e){Object.entries(at).map(([t,r])=>{e.getWidgetById(t)||e.registerWidget(t,r)}),e.getDefaultLayout().length===0&&e.setDefaultLayout(ot)}static{this.\u0275fac=function(t){return new(t||i)(ue(J))}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=b({imports:[Y,ke.forChild(tt)]})}}return i})();var qi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-test-widget"]],standalone:!1,decls:2,vars:0,template:function(t,r){t&1&&(o(0,"p"),m(1,"This is a test widget!"),a())},encapsulation:2,changeDetection:0})}}return i})(),zi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=b({})}}return i})();function Bt(i,l){if(i&1&&(o(0,"p",4),m(1),a()),i&2){let e=g(2);n(),A(" ",e.hideVendureBranding?"":"Vendure"," ",e.hideVersion?"":"Admin UI v"+e.version," ")}}function Et(i,l){if(i&1&&(o(0,"div")(1,"h4",3),m(2),h(3,"br"),o(4,"small",4),m(5),d(6,"timeAgo"),a()(),u(7,Bt,2,2,"p",5),a()),i&2){let e=l.ngIf,t=g();n(2),A(" Welcome, ",e.firstName," ",e.lastName,""),n(3),f("Last login: ",c(6,4,e.user.lastLogin),""),n(2),p("ngIf",!t.hideVendureBranding||!t.hideVersion)}}var Ki=(()=>{class i{constructor(e){this.dataService=e,this.version=Fe,this.brand=Q().brand,this.hideVendureBranding=Q().hideVendureBranding,this.hideVersion=Q().hideVersion}ngOnInit(){this.administrator$=this.dataService.administrator.getActiveAdministrator().mapStream(e=>e.activeAdministrator||null)}static{this.\u0275fac=function(t){return new(t||i)(x(O))}}static{this.\u0275cmp=y({type:i,selectors:[["vdr-welcome-widget"]],standalone:!1,decls:4,vars:3,consts:[[4,"ngIf"],[1,"placeholder"],["shape","line-chart","size","128"],[1,""],[1,"p5"],["class","p5",4,"ngIf"]],template:function(t,r){t&1&&(u(0,Et,8,6,"div",0),d(1,"async"),o(2,"div",1),h(3,"clr-icon",2),a()),t&2&&p("ngIf",c(1,1,r.administrator$))},dependencies:[L,B,S,K],styles:[`[_nghost-%COMP%]{display:flex;justify-content:space-between}.placeholder[_ngcontent-%COMP%]{color:var(--color-grey-200)}
/*# sourceMappingURL=welcome-widget.component-KGZCKLMD.css.map */`],changeDetection:0})}}return i})(),Yi=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=D({type:i})}static{this.\u0275inj=b({imports:[V]})}}return i})();export{ot as DEFAULT_DASHBOARD_WIDGET_LAYOUT,at as DEFAULT_WIDGETS,et as DashboardComponent,Ui as DashboardModule,Ze as DashboardWidgetComponent,_i as GET_ORDER_CHART_DATA,Si as GET_ORDER_SUMMARY,it as LatestOrdersWidgetComponent,pi as LatestOrdersWidgetModule,rt as OrderChartWidgetComponent,nt as OrderSummaryWidgetComponent,Oi as OrderSummaryWidgetModule,qi as TestWidgetComponent,zi as TestWidgetModule,Ki as WelcomeWidgetComponent,Yi as WelcomeWidgetModule,tt as dashboardRoutes};
//# sourceMappingURL=chunk-RUXBMYRL.js.map
